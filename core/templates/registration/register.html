{% extends "auth_layout.html" %}

{% block content %}
<div class="auth-header fade-in-up" style="animation-delay: 0.1s;">
    <div class="auth-logo">ðŸ“± SmartApp</div>
    <h1 class="auth-title">Create Account</h1>
    <p class="auth-subtitle">Join us and master your productivity.</p>
</div>

<form method="post" class="fade-in-up" style="animation-delay: 0.2s;">
    {% csrf_token %}

    {% if form.non_field_errors %}
    <div class="alert alert-danger" style="border-radius: 12px; font-size: 14px;">
        {{ form.non_field_errors }}
    </div>
    {% endif %}

    {% for field in form %}
    <div class="form-group">
        <label for="{{ field.id_for_label }}" class="auth-label">{{ field.label }}</label>
        {{ field }}

        {% if field.help_text %}
        <div class="form-text mt-1" style="color: #6b7280; font-size: 12px;">{{ field.help_text|safe }}</div>
        {% endif %}

        {% if field.errors %}
        <div class="text-danger small mt-1 fw-medium" style="color: #ef4444 !important;">
            {{ field.errors }}
        </div>
        {% endif %}
    </div>
    {% endfor %}

    <button type="submit" class="auth-btn mt-3">
        Sign Up
    </button>
</form>

<div class="auth-footer fade-in-up" style="animation-delay: 0.3s;">
    <p>Already have an account? <a href="{% url 'login' %}">Log In</a></p>
</div>

<!-- Script to add auth-input class to django generated inputs -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const inputs = document.querySelectorAll('input[type="text"], input[type="password"], input[type="email"]');
        inputs.forEach(input => {
            input.classList.add('auth-input');
            input.setAttribute('placeholder', 'Enter ' + input.name);
        });
    });
</script>
{% endblock %}