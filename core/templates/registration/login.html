{% extends "auth_layout.html" %}

{% block content %}
<div class="auth-header fade-in-up" style="animation-delay: 0.1s;">
    <div class="auth-logo">ðŸ“± SmartApp</div>
    <h1 class="auth-title">Welcome Back</h1>
    <p class="auth-subtitle">Log in to manage your notes and tasks.</p>
</div>

<form method="post" class="fade-in-up" style="animation-delay: 0.2s;">
    {% csrf_token %}

    {% if form.non_field_errors %}
    <div class="alert alert-danger" style="border-radius: 12px; font-size: 14px;">
        {{ form.non_field_errors }}
    </div>
    {% endif %}

    <!-- Username Field -->
    <div class="form-group">
        <label for="{{ form.username.id_for_label }}" class="auth-label">Username</label>
        {{ form.username }}
        {% if form.username.errors %}
        <div class="text-danger small mt-1 fw-medium" style="color: #ef4444 !important;">
            {{ form.username.errors }}
        </div>
        {% endif %}
    </div>

    <!-- Password Field -->
    <div class="form-group mb-4">
        <label for="{{ form.password.id_for_label }}" class="auth-label">Password</label>
        {{ form.password }}
        {% if form.password.errors %}
        <div class="text-danger small mt-1 fw-medium" style="color: #ef4444 !important;">
            {{ form.password.errors }}
        </div>
        {% endif %}
    </div>

    <button type="submit" class="auth-btn">
        Log In
    </button>
</form>

<div class="auth-footer fade-in-up" style="animation-delay: 0.3s;">
    <p>Don't have an account? <a href="{% url 'register' %}">Sign Up</a></p>
</div>

<!-- Script to add auth-input class to django generated inputs -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const inputs = document.querySelectorAll('input[type="text"], input[type="password"]');
        inputs.forEach(input => {
            input.classList.add('auth-input');
            input.setAttribute('placeholder', 'Enter ' + input.name);
        });
    });
</script>
{% endblock %}